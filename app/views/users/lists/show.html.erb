<%= render 'list_head', list: @list %>

<div class="row list-show">
  <div class="col-md-8">

    <div class="vue-list" data-props='<%=
      {
        list: @list.as_json(include: [:tags, :others]),
        owner: @list.owner.username,
        signedIn: user_signed_in?,
        currentUser: current_user ? current_user.username : '',
        summaries: ActiveSupport::JSON.decode(render('users/lists/jbuilders/list_summaries.json', summaries: @summaries)),
        userCanEdit: current_user_can_edit?(@list) || @list.accepts_public_contributions?,
        allReferences: ActiveSupport::JSON.decode(render('users/lists/jbuilders/references.json', references: @references)),
      }.to_json.html_safe
    %>'></div>

  </div>
  <div class="col-md-4">
    <div class="edit-section">
      <% if current_user %>
        <% if current_user.can_edit? @list %>
          <%= link_to 'Edit this board', edit_user_list_path(@list.owner, @list), class: "edit-list-btn" %>
        <% end %>
      <% end %>
    </div>

    <div class="list-section">
      <div class="list-section-h3">Comments</div>
      <div id="comments-<%= @list.id %>" class="sidebar-body">
        <%= render 'commentables/comments', commentable: @list, list_for_authorization: @list %>
      </div>
    </div>
  </div>
</div>
